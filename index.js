(function(){"use strict";const x="";function o(i,e,t,l,n,c,_,D){var s=typeof i=="function"?i.options:i;e&&(s.render=e,s.staticRenderFns=t,s._compiled=!0),l&&(s.functional=!0),c&&(s._scopeId="data-v-"+c);var a;if(_?(a=function(r){r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!r&&typeof __VUE_SSR_CONTEXT__<"u"&&(r=__VUE_SSR_CONTEXT__),n&&n.call(this,r),r&&r._registeredComponents&&r._registeredComponents.add(_)},s._ssrRegister=a):n&&(a=D?function(){n.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:n),a)if(s.functional){s._injectStyles=a;var F=s.render;s.render=function(L,g){return a.call(g),F(L,g)}}else{var p=s.beforeCreate;s.beforeCreate=p?[].concat(p,a):[a]}return{exports:i,options:s}}const h={props:{title:String,description:String,url:URL},computed:{base(){return this.url?this.url.protocol+"://"+this.url.host:""},path(){return this.url?this.url.pathname.trim().split("/").filter(i=>i):""}}};var d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"serp-preview"},[t("span",{staticClass:"url"},[e._v(" "+e._s(e.base)),e._l(e.path,function(l){return t("span",[e._v(e._s(" â€º "+l))])})],2),t("strong",[e._v(e._s(e.title))]),e.description?t("p",[e._v(e._s(e.description))]):e._e()])},u=[],v=o(h,d,u,!1,null,"2dde1c50",null,null);const f=v.exports,N="",m={props:{title:String,description:String,image:String,ratio:String}};var w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"social-preview"},[this.image?t("k-frame",{attrs:{ratio:e.ratio,cover:"true"}},[t("img",{attrs:{src:this.image}})]):e._e(),t("div",{staticClass:"inner"},[t("strong",[e._v(e._s(e.title))]),e.description?t("p",[e._v(e._s(e.description))]):e._e()])],1)},C=[],$=o(m,w,C,!1,null,"5095a0fc",null,null);const S=$.exports,V="",I={props:{title:String,description:String,image:String}};var k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"messaging-preview",class:{"with-image":!!this.image}},[this.image?t("img",{attrs:{src:this.image,alt:""}}):e._e(),t("div",{staticClass:"inner"},[t("strong",[e._v(e._s(e.title))]),e.description?t("p",[e._v(e._s(e.description))]):e._e()])])},R=[],T=o(I,k,R,!1,null,"682a4ffb",null,null);const b=T.exports,W="",P={components:{MessagingPreview:b,SerpPreview:f,SocialPreview:S},computed:{currentContent(){return this.$store.getters["content/values"]()},changes(){return this.$store.getters["content/changes"]()},title(){let i=this.currentContent.metatitle?this.currentContent.metatitle:this.pageTitle;return this.metaOptions.appendSiteTitle&&(i+=this.metaOptions.titleSeparator+this.siteTitle),i},description(){return this.currentContent.metadescription?this.currentContent.metadescription:this.siteDescription?this.siteDescription:""},image(){return"ogimage"in this.changes?this.changes.ogimage.length>0?this.changes.ogimage[0].url:this.fallbackImage:this.currentContent.ogimage.length>0?this.currentContent.ogimage[0].url:this.fallbackImage??""},fallbackImage(){return this.pageModelImage?this.pageModelImage:this.siteImage?this.siteImage:null}},created(){this.$events.on("page.changeTitle",this.fetch),this.$events.on("model.update",this.fetch),this.fetch()},data(){return{isLoading:!0,siteTitle:"",siteDescription:"",siteImage:"",pageTitle:"",pageImage:"",pageModelImage:"",pageUrl:"",imageRatio:"",metaOptions:{}}},methods:{fetch(){return this.load().then(i=>{this.siteTitle=i.siteTitle,this.siteDescription=i.siteDescription,this.siteImage=i.siteImage,this.pageTitle=i.pageTitle,this.pageImage=i.pageImage,this.pageModelImage=i.pageModelImage,this.pageUrl=new URL(i.pageUrl),this.metaOptions=i.metaOptions,this.imageRatio=`${this.metaOptions.ogImageWidth}/${this.metaOptions.ogImageHeight}`,this.isLoading=!1})}}};var O=function(){var e=this,t=e._self._c;return e.isLoading?e._e():t("k-section",{staticClass:"k-share-preview-section"},[t("div",{staticClass:"k-grid",attrs:{"data-variant":"fields"}},[t("header",{staticClass:"k-section-header"},[t("h2",{staticClass:"k-headline h2"},[e._v(e._s(e.$t("share-preview-section-title")))])]),!e.description||!e.image?t("k-box",{attrs:{theme:"warning",icon:"alert"}},[e._v(" "+e._s(e.$t("share-preview-incomplete-warning"))+" ")]):e._e(),t("figure",{staticClass:"preview-wrapper"},[t("SerpPreview",{attrs:{title:e.title,description:e.description,url:this.pageUrl}}),t("figcaption",{staticClass:"k-help k-text"},[t("p",[e._v(e._s(e.$t("share-preview-serp-caption")))])])],1),t("figure",{staticClass:"preview-wrapper"},[t("SocialPreview",{attrs:{title:e.title,description:e.description,image:this.image,ratio:e.imageRatio}}),t("figcaption",{staticClass:"k-help k-text"},[t("p",[e._v(e._s(e.$t("share-preview-social-caption")))])])],1),t("figure",{staticClass:"preview-wrapper"},[t("MessagingPreview",{attrs:{title:e.title,description:e.description,image:this.image}}),t("figcaption",{staticClass:"k-help k-text"},[t("p",[e._v(e._s(e.$t("share-preview-messaging-caption")))])])],1)],1)])},y=[],M=o(P,O,y,!1,null,"6d4bf846",null,null);const U=M.exports;window.panel.plugin("presprog/seo",{sections:{sharePreview:U}})})();
